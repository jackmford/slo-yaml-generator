apiVersion: openslo/v1
kind: SLO
metadata:
  name: {{ slo_name }}
  displayName: {{ slo_name }}
spec:
  service: {{ service_name }}
  indicator:
    metadata:
      name: {{ sli_name }}
      displayName: {{ sli_name }}
    spec:
      thresholdMetric:
        metricSource:
          metricSourceRef: cw
          type: {{ metric_source }}
          spec:
            rawMetric:
              query:
                cloudwatch:
                  stat: {{ statistic }}
                  region: {{ region }}
                  namespace: {{ aws_service }}
                  metricName: {{ metric_name }}
                  dimensions:
                    - name: FunctionName
                      value: LambdaName # make variable
  objectives:
    - displayName: {{ slo_name }}
      op: {{ operation }}
      value: {{ value }}
      target: {{ target }}
  timeWindow:
    - duration: {{ duration }}
      isRolling: {{ is_rolling }}
  budgetingMethod: {{ budgeting_method }}
